/**
 * Все возможные характеристики для игры "Бункер"
 * Разделены по категориям для удобства использования
 */

// Пол
export const GENDERS = ["М", "Ж", "А"] as const
export type Gender = typeof GENDERS[number]

// Модификаторы пола
export const GENDER_MODIFIERS = ["", "(с)", "(а)"] as const
export type GenderModifier = typeof GENDER_MODIFIERS[number]

// Возраст (генерируется случайно от 18 до 80)
export const AGE_RANGE = { min: 18, max: 80 }

// Профессии
export const PROFESSIONS = [
  "Пожарный",
  "Адвокат",
  "Этнограф",
  "Робототехник",
  "Строитель",
  "Переводчик",
  "Браконьер",
  "Продавец",
  "Полицейский",
  "Детектив",
  "Автомеханик",
  "Биолог",
  "Хакер",
  "Экстрасенс",
  "Сексолог",
  "Историк",
  "Повар",
  "Модель",
  "Физик",
  "Коуч",
  "Химик",
  "Журналист",
  "Философ",
  "Медсестра",
  "Эколог",
  "Тату-мастер",
  "Дизайнер",
  "Электрик",
  "Видеоинженер",
  "Фермер",
  "Экскурсовод",
  "Маркетолог",
  "Гомеопат",
  "Судья",
  "Грабитель",
  "Программист",
  "Разнорабочий",
  "Писатель",
  "Папарацци",
  "Знахарь",
  "Лесник",
  "Домохозяйка",
  "Психолог",
  "Летчик-инженер",
  "Военный",
  "Вирусолог",
  "Спецагент",
  "Стоматолог",
  "Хирург",
  "Археолог",
  "Врач",
  "Учитель",
  "Инженер",
  "Архитектор",
] as const

// Состояние здоровья (минимум 30)
export const HEALTH_CONDITIONS = [
  "Идеально здоров",
  "Алкоголизм",
  "ЗОЖ",
  "Тремор рук",
  "Не обследовался",
  "ВИЧ",
  "Заражен не известным вирусом",
  "Диабет",
  "Астма",
  "Близорукость",
  "Глухота на одно ухо",
  "Аллергия на пыль",
  "Гипертония",
  "Язва желудка",
  "Мигрень",
  "Сколиоз",
  "Варикоз",
  "Геморрой",
  "Псориаз",
  "Экзема",
  "Остеохондроз",
  "Артрит",
  "Плоскостопие",
  "Хронический бронхит",
  "Гастрит",
  "Мочекаменная болезнь",
  "Панкреатит",
  "Цистит",
  "Вегетососудистая дистония",
  "Бессонница",
] as const

// Хобби
export const HOBBIES = [
  "Краеведение",
  "Гвоздестояние",
  "Гадание на таро",
  "Уфология и мистика",
  "Кино и сериалы",
  "Спорт.Танцы",
  "Современное искусство",
  "Флудить в чатах",
  "Свинг вечеринки",
  "Паркур",
  "Охота и рыбалка",
  "Нетрадиционная медицина",
  "Медитация",
  "Любительская радиосвязь",
  "Компьютерные игры",
  "Гидропоника",
  "Черная магия",
  "Боевые искусства",
  "Алхимия",
  "Сплетни",
  "Робототехника",
  "Пиротехника",
  "Раскрашивание мандал",
  "Дачник",
  "Стриптиз",
  "ЗОЖ",
  "Холодное оружие",
  "Пивоварение",
  "Эротический массаж",
  "Вуайеризм",
  "Настольные игры",
  "Грибы и гомеопатия",
  "Паралимпийские игры",
  "Блог",
  "Йога",
  "Шахматы",
  "Охота",
  "Программирование",
  "Садоводство",
  "Кулинария",
] as const

// Фобии (минимум 30)
export const PHOBIAS = [
  "Андрофобия (боится мужчин)",
  "Клаустрофобия",
  "Арахнофобия",
  "Агорафобия",
  "Никтофобия (боится темноты)",
  "Гемофобия (боится крови)",
  "Аэрофобия",
  "Социофобия",
  "Акрофобия (боится высоты)",
  "Аквифобия (боится воды)",
  "Зоофобия (боится животных)",
  "Танатофобия (боится смерти)",
  "Кинофобия (боится собак)",
  "Офидиофобия (боится змей)",
  "Дентофобия (боится стоматолога)",
  "Трипанофобия (боится уколов)",
  "Глоссофобия (боится публичных выступлений)",
  "Некрофобия (боится трупов)",
  "Пирофобия (боится огня)",
  "Амаксофобия (боится транспорта)",
  "Эметофобия (боится рвоты)",
  "Мизофобия (боится микробов)",
  "Ксенофобия (боится чужаков)",
  "Аутофобия (боится одиночества)",
  "Атаксофобия (боится беспорядка)",
  "Номофобия (боится остаться без телефона)",
  "Трихофобия (боится волос)",
  "Лигирофобия (боится громких звуков)",
  "Гипнофобия (боится сна)",
] as const

// Багаж
export const BAGGAGE = [
  "Снайперская винтовка",
  "Коза и козел",
  "Котята",
  "Миллион долларов",
  "Кукла вуду",
  "Шапочка из фольги",
  "ПНВ",
  "Энциклопедия грибника",
  "Чемоданчик фельдшера",
  "Яйца и инкубатор",
  "Антибиотики и обезболивающее",
  "Столярные инструменты",
  "Надувная кукла",
  "Саженцы фруктовых деревьев",
  "Ноут и набор хакера",
  "Мешок картошки",
  "Пистолет",
  "Переносная электростанция",
  "Дефибрилятор",
  "Набор отмычек",
  "Ножи для метания",
  "Мешок зерна",
  "Лук и стрелы",
  "Компас и карта",
  "Капканы и набор ядов",
  "Инструменты электрика",
  "Настолки",
  "Дилдо",
  "Запас виагры",
  "Спиритическая доска",
  "Гитара",
  "Звуковая отвертка",
  "Набор инструментов",
  "Аптечка",
  "Радиостанция",
  "Генератор",
  "Палатка",
] as const

// Факты (минимум 30)
export const FACTS = [
  "Победитель паралимпийских игр",
  "Свинг вечеринки",
  "Выжил на необитаемом острове",
  "Маньяк-Убийца",
  "Был в тюрьме",
  "Знает 5 языков",
  "Чемпион по стрельбе",
  "Бывший спецназовец",
  "Участник телешоу",
  "Написал книгу",
  "Жил в другой стране 5+ лет",
  "Имеет двойное гражданство",
  "Выиграл в лотерею",
  "Потерял память на месяц",
  "Спас человека из воды",
  "Работал в цирке",
  "Участвовал в экспедиции",
  "Владеет недвижимостью за границей",
  "Не ест мясо 10+ лет",
  "Прыгал с парашютом 50+ раз",
  "Встречался с известным политиком",
  "Получил награду за доблесть",
  "Был волонтёром в зоне ЧС",
  "Владеет редкой коллекцией",
  "Прошёл путь паломника",
  "Вырастил ребёнка один",
  "Сменил 10+ работ",
  "Никогда не летал на самолёте",
  "Побывал во всех регионах страны",
  "Выиграл олимпиаду по предмету",
] as const

// Особые характеристики (минимум 30)
export const SPECIAL = [
  "Бесплодие",
  "Беременность 3-й триместр",
  "Двойняшки",
  "Иммунитет к радиации",
  "Фотографическая память",
  "Гениальность",
  "Абсолютный слух",
  "Синэстезия",
  "Редкая группа крови",
  "Аллергия на лекарства",
  "Импланты",
  "Шрамы от ожогов",
  "Отсутствует палец",
  "Протез конечности",
  "Кардиостимулятор",
  "Хроническая бессонница",
  "Лунатизм",
  "Храп",
  "Дальтонизм",
  "Амбидекстр",
  "Родимое пятно на лице",
  "Седина с 20 лет",
  "Полная глухота",
  "Голубые глаза",
  "Рыжие волосы",
  "Веснушки",
  "Татуировка на видном месте",
  "Пирсинг языка",
  "Шрам от операции",
  "Родился в високосный день",
] as const

/** Характеристики «Особое», доступные только для пола Ж (женский) */
export const FEMALE_ONLY_SPECIAL = ["Беременность 3-й триместр", "Двойняшки"] as const

// Биология (минимум 30)
export const BIO = [
  "Рост 195 см",
  "Рост 150 см",
  "Вес 120 кг",
  "Атлетическое телосложение",
  "Худощавое телосложение",
  "Рост 165 см",
  "Рост 180 см",
  "Вес 55 кг",
  "Вес 90 кг",
  "Крупное телосложение",
  "Среднее телосложение",
  "Рост 170 см",
  "Рост 190 см",
  "Вес 70 кг",
  "Вес 100 кг",
  "Мускулистое телосложение",
  "Полное телосложение",
  "Рост 155 см",
  "Рост 175 см",
  "Вес 60 кг",
  "Вес 80 кг",
  "Миниатюрное телосложение",
  "Высокий рост (190+ см)",
  "Низкий рост (до 160 см)",
  "Широкие плечи",
  "Узкие плечи",
  "Длинные ноги",
  "Короткие пальцы",
  "Крупные руки",
  "Седина",
] as const

// Навыки (минимум 30)
export const SKILLS = [
  "Владение оружием",
  "Первая помощь",
  "Электрика",
  "Механика",
  "Стройка",
  "Выживание в дикой природе",
  "Готовка",
  "Шитьё",
  "Ремонт техники",
  "Вождение",
  "Плавание",
  "Верховая езда",
  "Стрельба",
  "Ориентирование на местности",
  "Рыбалка",
  "Охота",
  "Садоводство",
  "Разведение животных",
  "Кузнечное дело",
  "Столярное дело",
  "Сварка",
  "Программирование",
  "Иностранные языки",
  "Переговоры",
  "Медитация",
  "Йога",
  "Боевые искусства",
  "Бег на длинные дистанции",
  "Альпинизм",
  "Подводное плавание",
  "Сантехника",
  "Игра на гитаре",
  "Игра на Акулеле",
] as const

// Черты характера (минимум 30)
export const TRAITS = [
  "Истеричный",
  "Спокойный",
  "Лидер",
  "Интроверт",
  "Агрессивный",
  "Трусливый",
  "Оптимист",
  "Пессимист",
  "Эгоист",
  "Альтруист",
  "Упрямый",
  "Уступчивый",
  "Вспыльчивый",
  "Флегматичный",
  "Подозрительный",
  "Доверчивый",
  "Жадный",
  "Щедрый",
  "Ленивый",
  "Трудолюбивый",
  "Саркастичный",
  "Добродушный",
  "Замкнутый",
  "Общительный",
  "Ревнивый",
  "Беззаботный",
  "Ответственный",
  "Импульсивный",
  "Расчётливый",
  "Мечтатель",
] as const

// Дополнительные характеристики (для расширения)
export const ADDITIONAL: readonly string[] = [] as const

/**
 * Маппинг категорий к массивам возможных значений
 */
export const CHARACTERISTICS_BY_CATEGORY = {
  gender: GENDERS,
  age: [], // Возраст генерируется случайно
  profession: PROFESSIONS,
  health: HEALTH_CONDITIONS,
  hobby: HOBBIES,
  phobia: PHOBIAS,
  baggage: BAGGAGE,
  fact: FACTS,
  special: SPECIAL,
  bio: BIO,
  skill: SKILLS,
  trait: TRAITS,
  additional: ADDITIONAL,
} as const

/**
 * Получить случайное значение характеристики из категории
 */
export function getRandomCharacteristic(category: keyof typeof CHARACTERISTICS_BY_CATEGORY): string {
  const options = CHARACTERISTICS_BY_CATEGORY[category]
  if (options.length === 0) {
    return ""
  }
  return options[Math.floor(Math.random() * options.length)]
}

/**
 * Получить варианты «Особое» с учётом пола.
 * Для пола М (мужской) исключаются женские характеристики (беременность и т.п.).
 */
export function getSpecialOptionsForGender(gender: string): readonly string[] {
  const normalized = String(gender).trim().toUpperCase()
  if (normalized === "М" || normalized === "M") {
    return SPECIAL.filter((v) => !FEMALE_ONLY_SPECIAL.includes(v))
  }
  return SPECIAL
}

/**
 * Получить все возможные значения для категории
 */
export function getCharacteristicsForCategory(
  category: keyof typeof CHARACTERISTICS_BY_CATEGORY,
): readonly string[] {
  return CHARACTERISTICS_BY_CATEGORY[category]
}

/**
 * Проверить, является ли значение валидным для категории
 */
export function isValidCharacteristic(
  category: keyof typeof CHARACTERISTICS_BY_CATEGORY,
  value: string,
): boolean {
  const options = CHARACTERISTICS_BY_CATEGORY[category]
  if (category === "age") {
    // Возраст проверяется отдельно
    const age = parseInt(value, 10)
    return !isNaN(age) && age >= AGE_RANGE.min && age <= AGE_RANGE.max
  }
  return (options as readonly string[]).includes(value)
}

/**
 * Получить случайный возраст в допустимом диапазоне
 */
export function getRandomAge(): number {
  return Math.floor(Math.random() * (AGE_RANGE.max - AGE_RANGE.min + 1)) + AGE_RANGE.min
}

/**
 * Получить случайный пол
 */
export function getRandomGender(): Gender {
  return GENDERS[Math.floor(Math.random() * GENDERS.length)]
}

/**
 * Получить случайный модификатор пола
 */
export function getRandomGenderModifier(): GenderModifier {
  return GENDER_MODIFIERS[Math.floor(Math.random() * GENDER_MODIFIERS.length)]
}

/**
 * Статистика по характеристикам
 */
export const CHARACTERISTICS_STATS = {
  professions: PROFESSIONS.length,
  health: HEALTH_CONDITIONS.length,
  hobbies: HOBBIES.length,
  phobias: PHOBIAS.length,
  baggage: BAGGAGE.length,
  facts: FACTS.length,
  special: SPECIAL.length,
  bio: BIO.length,
  skills: SKILLS.length,
  traits: TRAITS.length,
  total: PROFESSIONS.length +
    HEALTH_CONDITIONS.length +
    HOBBIES.length +
    PHOBIAS.length +
    BAGGAGE.length +
    FACTS.length +
    SPECIAL.length +
    BIO.length +
    SKILLS.length +
    TRAITS.length,
} as const
